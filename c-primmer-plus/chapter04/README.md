## 第四章 字符串和格式化输入/输出

### 字符串简介：

- C 语言没有专门的数据类型用于存储字符串（character string），字符串被储存于 `char` 类型的数组（array）中，由连续的存储单元组成。

- C 语言中每个字符串必须以 `\0` 空字符（null character）结束，因此储存字符串的数组容量比实际储存的字符数量多 1，最后一个字符留给空字符。

  > 数组：同类型数据元素的有序序列，是一个连续的多个存储单元。

- `scanf()` 函数只读取字符串中第一个空白（空格、制表符或换行符）前的字符串，之后的字符串不再读取。请使用 `fgets()` 函数读取一般字符串。

### 常量与 C 预处理器：

- 符号常量的声明方法：

  - `#define` 预处理器

  - `const` 修饰符

  - `enum` 枚举

  > 注意：以下主要讨论前两种方法，枚举功能在后续章节中介绍。

- 使用 `#define` 预处理器声明符号常量，其中在程序编译时直接替换常量的方式称为编译时代入法（compile-time substitution），而通过这种方法完成替换的常量称为明显常量（manifest constant）。

- `#define` 声明的符号常量是一种替换机制而不是 C 语句，因此无需分号结束。常规的变量声明使用常量赋值是一种赋值方式不是替换机制，变量的值非常容易被再次更改。符号常量的声明通常使用大写字母与常规的变量声明以作区分。

- `#define` 声明符号常量的示例：

  ```c
  #define Pi 3.14159  /* 明显常量声明 */
  #define BEEP '\a'  /* 字符常量声明 */
  #define TEE 'T'
  #define ESC '\033'
  #define OOPS "Now you have done it!"  /* 字符串常量声明 */
  ```

- `const` 修饰符示例：

  ```c
  const int MONTHS = 12;  /* const 声明 MONTHS 符号常量 */
  ```

- 💪 系统定义的明显常量：明显常量定义于 `/usr/include/limits.h` 与 `/usr/lib/gcc/x86_64-redhat-linux/8/include/float.h` 头文件中。

  > 注意：以上两个头文件分别位于笔者所使用的环境中，具体的符号常量定义请查看源文件。

### 研究和利用 printf() 和 scanf()：

- printf() 函数使用 `%` 来标识转换说明，如需表示 % 本身，需使用两个 % 表示。

- 🏷 printf() 函数转换说明的修饰符与标志说明，如 `%05.3d` 表示整形值字段宽度为 5（修饰符），最小精度位数为 3（修饰符），若前导 0（标志）与最小精度同时出现，前导 0 将忽略。

